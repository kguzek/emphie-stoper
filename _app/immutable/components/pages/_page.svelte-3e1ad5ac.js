import{S as ue,i as fe,s as de,k as p,q,l as v,m as b,r as z,h as f,n as _,J as G,b as Q,H as i,K as he,u as C,C as x,L as me,a as I,x as ee,c as A,y as te,z as se,f as le,t as ae,M as _e,A as ne,o as pe}from"../../chunks/index-ab24f5a5.js";function ve(s){let e,t,l,o,d,h;return{c(){e=p("button"),t=p("b"),l=q(s[0]),this.h()},l(a){e=v(a,"BUTTON",{class:!0});var c=b(e);t=v(c,"B",{});var j=b(t);l=z(j,s[0]),j.forEach(f),c.forEach(f),this.h()},h(){_(e,"class",o=G(`btn ${s[1]}`)+" svelte-ur9ten"),e.disabled=s[2]},m(a,c){Q(a,e,c),i(e,t),i(t,l),d||(h=he(e,"click",s[3]),d=!0)},p(a,[c]){c&1&&C(l,a[0]),c&2&&o!==(o=G(`btn ${a[1]}`)+" svelte-ur9ten")&&_(e,"class",o),c&4&&(e.disabled=a[2])},i:x,o:x,d(a){a&&f(e),d=!1,h()}}}function be(s,e,t){let{label:l}=e,{className:o=""}=e,{disabled:d=!1}=e;function h(a){me.call(this,s,a)}return s.$$set=a=>{"label"in a&&t(0,l=a.label),"className"in a&&t(1,o=a.className),"disabled"in a&&t(2,d=a.disabled)},[l,o,d,h]}class oe extends ue{constructor(e){super(),fe(this,e,be,ve,de,{label:0,className:1,disabled:2})}}function re(s,e,t){const l=s.slice();return l[13]=e[t],l[15]=t,l}function ie(s){let e,t,l=s[13].primary+"",o,d,h,a=s[13].secondary+"",c,j,B,k,T,L,D;function H(){return s[8](s[15])}return{c(){e=p("li"),t=p("b"),o=q(l),d=I(),h=p("small"),c=q(a),j=I(),B=p("button"),k=q("X"),T=I(),this.h()},l(u){e=v(u,"LI",{class:!0});var r=b(e);t=v(r,"B",{class:!0});var m=b(t);o=z(m,l),m.forEach(f),d=A(r),h=v(r,"SMALL",{class:!0});var M=b(h);c=z(M,a),M.forEach(f),j=A(r),B=v(r,"BUTTON",{class:!0});var N=b(B);k=z(N,"X"),N.forEach(f),T=A(r),r.forEach(f),this.h()},h(){_(t,"class","svelte-dpeju2"),_(h,"class","svelte-dpeju2"),_(B,"class","svelte-dpeju2"),_(e,"class","time svelte-dpeju2")},m(u,r){Q(u,e,r),i(e,t),i(t,o),i(e,d),i(e,h),i(h,c),i(e,j),i(e,B),i(B,k),i(e,T),L||(D=he(B,"click",H),L=!0)},p(u,r){s=u,r&16&&l!==(l=s[13].primary+"")&&C(o,l),r&16&&a!==(a=s[13].secondary+"")&&C(c,a)},d(u){u&&f(e),L=!1,D()}}}function ce(s){let e,t;return{c(){e=p("small"),t=q(s[1]),this.h()},l(l){e=v(l,"SMALL",{class:!0});var o=b(e);t=z(o,s[1]),o.forEach(f),this.h()},h(){_(e,"class","svelte-dpeju2")},m(l,o){Q(l,e,o),i(e,t)},p(l,o){o&2&&C(t,l[1])},d(l){l&&f(e)}}}function ge(s){let e,t,l,o,d=s[4].length>0?"Zapisane czasy":"",h,a,c,j,B,k,T,L,D,H,u,r,m,M,N,X,P,$,V,U=s[4],g=[];for(let n=0;n<U.length;n+=1)g[n]=ie(re(s,U,n));let E=s[0]+s[1]!=="00:00:00000"&&ce(s);return m=new oe({props:{className:s[3]?"stop":"start",label:s[3]?"Stop":"Start"}}),m.$on("click",s[5]),N=new oe({props:{disabled:!s[3],label:"Pomiar"}}),N.$on("click",s[6]),{c(){e=p("div"),t=p("main"),l=p("aside"),o=p("h3"),h=q(d),a=I(),c=p("ol");for(let n=0;n<g.length;n+=1)g[n].c();B=I(),k=p("div"),T=p("div"),L=p("b"),D=q(s[0]),H=I(),E&&E.c(),u=I(),r=p("div"),ee(m.$$.fragment),M=I(),ee(N.$$.fragment),X=I(),P=p("b"),$=q(s[2]),this.h()},l(n){e=v(n,"DIV",{class:!0});var S=b(e);t=v(S,"MAIN",{class:!0});var y=b(t);l=v(y,"ASIDE",{class:!0});var O=b(l);o=v(O,"H3",{class:!0});var w=b(o);h=z(w,d),w.forEach(f),a=A(O),c=v(O,"OL",{class:!0});var Z=b(c);for(let R=0;R<g.length;R+=1)g[R].l(Z);Z.forEach(f),O.forEach(f),B=A(y),k=v(y,"DIV",{class:!0});var F=b(k);T=v(F,"DIV",{class:!0});var J=b(T);L=v(J,"B",{class:!0});var W=b(L);D=z(W,s[0]),W.forEach(f),H=A(J),E&&E.l(J),J.forEach(f),u=A(F),r=v(F,"DIV",{class:!0});var K=b(r);te(m.$$.fragment,K),M=A(K),te(N.$$.fragment,K),K.forEach(f),F.forEach(f),X=A(y),P=v(y,"B",{class:!0});var Y=b(P);$=z(Y,s[2]),Y.forEach(f),y.forEach(f),S.forEach(f),this.h()},h(){_(o,"class","svelte-dpeju2"),_(c,"class","svelte-dpeju2"),_(l,"class",j=G("container"+(s[4].length>0?" visible":""))+" svelte-dpeju2"),_(L,"class","svelte-dpeju2"),_(T,"class","current-reading svelte-dpeju2"),_(r,"class","buttons container svelte-dpeju2"),_(k,"class","stopwatch container svelte-dpeju2"),_(P,"class","clock svelte-dpeju2"),_(t,"class","svelte-dpeju2"),_(e,"class","root container svelte-dpeju2")},m(n,S){Q(n,e,S),i(e,t),i(t,l),i(l,o),i(o,h),i(l,a),i(l,c);for(let y=0;y<g.length;y+=1)g[y].m(c,null);i(t,B),i(t,k),i(k,T),i(T,L),i(L,D),i(T,H),E&&E.m(T,null),i(k,u),i(k,r),se(m,r,null),i(r,M),se(N,r,null),i(t,X),i(t,P),i(P,$),V=!0},p(n,[S]){if((!V||S&16)&&d!==(d=n[4].length>0?"Zapisane czasy":"")&&C(h,d),S&144){U=n[4];let w;for(w=0;w<U.length;w+=1){const Z=re(n,U,w);g[w]?g[w].p(Z,S):(g[w]=ie(Z),g[w].c(),g[w].m(c,null))}for(;w<g.length;w+=1)g[w].d(1);g.length=U.length}(!V||S&16&&j!==(j=G("container"+(n[4].length>0?" visible":""))+" svelte-dpeju2"))&&_(l,"class",j),(!V||S&1)&&C(D,n[0]),n[0]+n[1]!=="00:00:00000"?E?E.p(n,S):(E=ce(n),E.c(),E.m(T,null)):E&&(E.d(1),E=null);const y={};S&8&&(y.className=n[3]?"stop":"start"),S&8&&(y.label=n[3]?"Stop":"Start"),m.$set(y);const O={};S&8&&(O.disabled=!n[3]),N.$set(O),(!V||S&4)&&C($,n[2])},i(n){V||(le(m.$$.fragment,n),le(N.$$.fragment,n),V=!0)},o(n){ae(m.$$.fragment,n),ae(N.$$.fragment,n),V=!1},d(n){n&&f(e),_e(g,n),E&&E.d(),ne(m),ne(N)}}}function Ee(s,e,t){let l="00:00:00",o="000",d="",h,a=!1,c=[{primary:"12:34:56",secondary:"789"}];const j=(u,r)=>[Math.floor(u/r),u%r];function B(u){let r,m,M;[M,u]=j(u,1e3),[m,M]=j(M,60),[r,m]=j(m,60);const N=[r,m,M].map(X=>`${X}`.padStart(2,"0"));t(0,l=N.join(":")),t(1,o=`${u}`.padStart(3,"0"))}function k(){const u=new Date;if(t(2,d=u.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})),a){const r=u.getTime()-h;B(r)}requestAnimationFrame(k)}function T(){t(3,a=!a),a&&(h=new Date().getTime())}function L(){if(!a)return;const u={primary:l,secondary:o};t(4,c=[...c,u])}const D=u=>t(4,c=c.filter((r,m)=>m!==u));return pe(()=>{k()}),[l,o,d,a,c,T,L,D,u=>D(u)]}class ke extends ue{constructor(e){super(),fe(this,e,Ee,ge,de,{})}}export{ke as default};
